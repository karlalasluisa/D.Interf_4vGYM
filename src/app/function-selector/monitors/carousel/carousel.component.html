<div class="container mt-3">

    <div *ngIf="isLoading" class="loading-overlay">
        <div class="loading-message">
            <div class="row">
                <div class="col-2">
    
                </div>
                <div class="col-8">
                    <mat-spinner></mat-spinner>
                </div>
            </div>
            <p>Loading monitors...</p>
        </div>
    </div>

    
    <!-- Barra de búsqueda -->
    <div class="input-container container-fluid d-flex justify-content-center align-items-center mt-4">
        <div>
            <i class="bi bi-search"></i>
        </div>
        <input type="text" placeholder="Buscar monitor por nombre" [(ngModel)]="searchQuery" (input)="filterMonitors()" />
    </div>
    
    <div *ngIf="!isLoading && filteredMonitors.length === 0" class="container-fluid d-flex justify-content-center">
        <p class="text-danger my-4">No se encontraron monitores.</p>
    </div>
     
    <!-- Añadir monitor -->
    <div class="d-flex justify-content-end">
        <a  (click)="createMonitor()">
            <svg width="70" height="70" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_6_10329)">
                <path
                    d="M61.25 116.667C61.25 118.987 62.1719 121.213 63.8128 122.854C65.4537 124.495 67.6793 125.417 70 125.417C72.3206 125.417 74.5462 124.495 76.1872 122.854C77.8281 121.213 78.75 118.987 78.75 116.667V78.75H116.667C118.987 78.75 121.213 77.8282 122.854 76.1872C124.495 74.5463 125.417 72.3207 125.417 70C125.417 67.6794 124.495 65.4538 122.854 63.8129C121.213 62.1719 118.987 61.25 116.667 61.25H78.75V23.3334C78.75 21.0127 77.8281 18.7871 76.1872 17.1462C74.5462 15.5052 72.3206 14.5834 70 14.5834C67.6793 14.5834 65.4537 15.5052 63.8128 17.1462C62.1719 18.7871 61.25 21.0127 61.25 23.3334V61.25H23.3333C21.0127 61.25 18.7871 62.1719 17.1461 63.8129C15.5052 65.4538 14.5833 67.6794 14.5833 70C14.5833 72.3207 15.5052 74.5463 17.1461 76.1872C18.7871 77.8282 21.0127 78.75 23.3333 78.75H61.25V116.667Z"
                    fill="#D25B5B" />
            </g>
            <defs>
                <clipPath id="clip0_6_10329">
                    <rect width="140" height="140" fill="white" />
                </clipPath>
            </defs>
            </svg>
        </a>
    </div>
</div>

<!-- Carrusel -->
<div class="container-fluid">
    <div class="d-flex justify-content-between align-items-center mt-4">
        <a (click)="previous()" class="custom-carousel-icon" [class.disabled]="currentIndex === 0">
            <!-- <i class="bi bi-chevron-double-left"></i> -->
            <svg width="60" height="60" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6_10340)">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M45.225 22.275C46.2784 23.3297 46.87 24.7594 46.87 26.25C46.87 27.7406 46.2784 29.1703 45.225 30.225L30.4575 45L45.2325 59.775C46.2566 60.8364 46.823 62.2575 46.8094 63.7324C46.7959 65.2073 46.2037 66.6178 45.1603 67.6602C44.1169 68.7027 42.7058 69.2936 41.2309 69.3057C39.756 69.3178 38.3354 68.7502 37.275 67.725L18.525 48.975C17.4716 47.9203 16.8799 46.4906 16.8799 45C16.8799 43.5094 17.4716 42.0797 18.525 41.025L37.275 22.275C37.7974 21.7523 38.4176 21.3377 39.1003 21.0547C39.783 20.7718 40.5148 20.6262 41.2537 20.6262C41.9927 20.6262 42.7245 20.7718 43.4072 21.0547C44.0899 21.3377 44.7101 21.7523 45.2325 22.275H45.225ZM67.725 22.275C68.7784 23.3297 69.37 24.7594 69.37 26.25C69.37 27.7406 68.7784 29.1703 67.725 30.225L52.9575 45L67.7325 59.775C68.7566 60.8364 69.323 62.2575 69.3094 63.7324C69.2959 65.2073 68.7037 66.6178 67.6603 67.6602C66.6169 68.7027 65.2058 69.2936 63.7309 69.3057C62.256 69.3178 60.8354 68.7502 59.775 67.725L41.025 48.975C39.9716 47.9203 39.3799 46.4906 39.3799 45C39.3799 43.5094 39.9716 42.0797 41.025 41.025L59.775 22.275C60.2974 21.7523 60.9176 21.3377 61.6003 21.0547C62.283 20.7718 63.0148 20.6262 63.7537 20.6262C64.4927 20.6262 65.2245 20.7718 65.9072 21.0547C66.5899 21.3377 67.2101 21.7523 67.7325 22.275H67.725Z"
                        fill="#D25B5B" />
                </g>
                <defs>
                    <clipPath id="clip0_6_10340">
                        <rect width="90" height="90" fill="white" />
                    </clipPath>
                </defs>
            </svg>
        </a>
    

        <div class="carousel d-flex overflow-hidden" style="width: 63%; height: 250px;">
            <!-- Mostrar los monitores filtrados -->
            <div *ngFor="let monitor of filteredMonitors | slice: currentIndex:(currentIndex + itemsPerPage)">
                <app-monitor [monitor]="monitor" (edit)="editMonitor($event)" (delete)="deleteMonitor($event)"></app-monitor>
            </div>
        </div>

    
        <a (click)="next()" class="custom-carousel-icon">
            <svg width="60" height="60" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_6_10336)">
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M44.7749 67.725C43.7216 66.6703 43.1299 65.2406 43.1299 63.75C43.1299 62.2594 43.7216 60.8297 44.7749 59.775L59.5424 45L44.7674 30.225C43.7433 29.1636 43.177 27.7425 43.1905 26.2676C43.204 24.7927 43.7962 23.3822 44.8397 22.3398C45.8831 21.2973 47.2942 20.7064 48.769 20.6943C50.2439 20.6822 51.6645 21.2498 52.7249 22.275L71.4749 41.025C72.5283 42.0797 73.12 43.5094 73.12 45C73.12 46.4906 72.5283 47.9203 71.4749 48.975L52.7249 67.725C52.2026 68.2477 51.5823 68.6623 50.8996 68.9453C50.2169 69.2282 49.4852 69.3738 48.7462 69.3738C48.0072 69.3738 47.2755 69.2282 46.5928 68.9453C45.9101 68.6623 45.2898 68.2477 44.7674 67.725H44.7749ZM22.2749 67.725C21.2216 66.6703 20.6299 65.2406 20.6299 63.75C20.6299 62.2594 21.2216 60.8297 22.2749 59.775L37.0424 45L22.2674 30.225C21.2433 29.1636 20.677 27.7425 20.6905 26.2676C20.704 24.7927 21.2962 23.3822 22.3397 22.3398C23.3831 21.2973 24.7942 20.7064 26.2691 20.6943C27.7439 20.6822 29.1645 21.2498 30.2249 22.275L48.9749 41.025C50.0283 42.0797 50.62 43.5094 50.62 45C50.62 46.4906 50.0283 47.9203 48.9749 48.975L30.2249 67.725C29.7026 68.2477 29.0823 68.6623 28.3996 68.9453C27.7169 69.2282 26.9852 69.3738 26.2462 69.3738C25.5072 69.3738 24.7755 69.2282 24.0928 68.9453C23.4101 68.6623 22.7898 68.2477 22.2674 67.725H22.2749Z"
                        fill="#D25B5B" />
                </g>
                <defs>
                    <clipPath id="clip0_6_10336">
                        <rect width="90" height="90" fill="white" transform="matrix(-1 0 0 -1 90 90)" />
                    </clipPath>
                </defs>
            </svg>
            <!-- <i class="bi bi-chevron-double-right"></i> -->
        </a>
    </div>

</div>
       
    

